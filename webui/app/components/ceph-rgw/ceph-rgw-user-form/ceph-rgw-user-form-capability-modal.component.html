<div class="openattic-modal-header">
  <span ng-hide="$ctrl.editing">
    <translate translate-params-type="$ctrl.cap.type">
      Add capability: {{ type }}
    </translate>
  </span>
  <span ng-show="$ctrl.editing">
    <translate translate-params-type="$ctrl.cap.type">
      Edit capability: {{ type }}
    </translate>
  </span>
</div>
<form name="form"
      role="form"
      class="form-horizontal"
      novalidate>
  <div class="openattic-modal-content">
    <!-- Type -->
    <div class="form-group"
         ng-class="{'has-error': (form.$submitted || form.type.$dirty) && form.type.$invalid}">
      <label translate
             class="col-sm-3 control-label"
             for="type">Type</label>
      <div class="col-sm-9">
        <div class="input-group">
          <select class="form-control"
                  ng-model="$ctrl.cap.type"
                  ng-disabled="$ctrl.editing"
                  ng-required="!$ctrl.editing"
                  ng-options="type for type in $ctrl.enumTypes()"
                  name="type"
                  id="type">
            <option translate
                    value="">-- Select a type --</option>
          </select>
        </div>
        <span translate
              class="help-block tc_typeRequired"
              ng-show="(form.$submitted || form.type.$dirty) && form.type.$error.required">
          This field is required!
        </span>
      </div>
    </div>
    <!-- Permission -->
    <div class="form-group"
         ng-class="{'has-error': (form.$submitted || form.perm.$dirty) && form.perm.$invalid}">
      <label translate
             class="col-sm-3 control-label"
             for="perm">Permission</label>
      <div class="col-sm-9">
        <div class="input-group">
          <select class="form-control"
                  ng-model="$ctrl.cap.perm"
                  name="perm"
                  id="perm"
                  required>
            <option translate
                    value="">-- Select a permission --</option>
            <option translate
                    value="read">read</option>
            <option translate
                    value="write">write</option>
            <option translate
                    value="*">*</option>
          </select>
        </div>
        <span translate
              class="help-block tc_permRequired"
              ng-show="(form.$submitted || form.perm.$dirty) && form.perm.$error.required">
          This field is required!
        </span>
      </div>
    </div>
  </div>
  <div class="openattic-modal-footer">
    <div class="button-group text-right">
      <oa-submit-button form="form"
                        on-submit="$ctrl.submitAction(form)">
        <translate>Submit</translate>
      </oa-submit-button>
      <button translate
              type="button"
              class="btn btn-sm btn-default tc_cancelCapButton"
              ng-click="$ctrl.cancelAction()">
        Cancel
      </button>
    </div>
  </div>
</form>
